<!-- <section>
  <div class="">
    <div class="card-body">
      <form [formGroup]="registerReservationForm" method="get">
        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="nome">Data</label>
              <input type="date" formControlName="dateReservation" class="form-control">
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="oraInizio">Inizio</label>
              <select class="form-select" formControlName="oraInizio" aria-label="Default select example">
                <option selected value="null">Inizio</option>
                <ng-template [ngIf]="cam.value === '1'">
                  <option *ngFor="let t1 of timeSelect" value="{{t1}}" >{{t1}}</option>
                </ng-template>
                <ng-template [ngIf]="cam.value === '2'">
                <option *ngFor="let t1 of timeSelect2" value="{{t1}}">{{t1}}</option>
                </ng-template>
                <ng-template [ngIf]="cam.value === '3'">
                <option *ngFor="let t1 of timeSelectPadel" value="{{t1}}">{{t1}}</option>
                </ng-template>
              </select>
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="oraFine">Fine</label>
              <select class="form-select" formControlName="oraFine" aria-label="Default select example">
                <option selected value="null">Fine</option>
                <ng-template [ngIf]="cam.value === '1'">
                  <option *ngFor="let t2 of timeSelect" value="{{t2}}" >{{t2}}</option>
                </ng-template>
                <ng-template [ngIf]="cam.value === '2'">
                <option *ngFor="let t2 of timeSelect2" value="{{t2}}">{{t2}}</option>
                </ng-template>
                <ng-template [ngIf]="cam.value === '3'">
                <option *ngFor="let t2 of timeSelectPadel" value="{{t2}}">{{t2}}</option>
                </ng-template>
              </select>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="campo">Campo</label>
          <select class="form-select" #cam aria-label="Default select example" formControlName="campo" >
            <option selected value="null">Seleziona il campo</option>
            <option *ngFor="let ca of campi" value="{{ca.numero}}">{{ca.numero}} - {{ca.superficie}} - {{ca.sport}}
            </option>
          </select>
        </div>

        <div class="form-group">
          <label for="luogoDiNascita">Tipo prenotazione</label>
          <select class="form-select" #tipo formControlName="evento" aria-label="Default select example">
            <option selected value="prenotazione">Prenotazione</option>
            <option value="evento">Evento</option>
          </select>
        </div>

        <div class="form-group" *ngIf="cam.value != '3' && tipo.value === 'prenotazione'">
          <label for="luogoDiNascita">Modalità</label>
          <select class="form-select" formControlName="modality" aria-label="Default select example">
            <option selected value="null">Seleziona modalità</option>
            <option value="singolo">Singolo</option>
            <option value="doppio">Doppio</option>
          </select>
        </div>
        <div class="form-group" *ngIf="tipo.value === 'prenotazione'">
          <label for="giocatore1">Giocatore 1</label>
          <input type="text" formControlName="playerOne" class="form-control" id="giocatore1" name="giocatore1"
            placeholder="Inserisci il codice tessera" (keyup)="onTypeCognome(registerReservationForm.get('playerOne')?.value, 'playerOne')">
        </div>

        <div class="form-check" *ngFor='let item of tessere'>
          <ul class="list-group">
            <button class="list-group-item" (click)="radioChecked(item.clienteTess.cognome, 'playerOne', item.codiceTessera)">{{item.clienteTess.cognome}}</button>
          </ul>
        </div>

        <div class="form-group" *ngIf="tipo.value === 'prenotazione'">
          <label for="giocatore2">Giocatore 2</label>
          <input type="text" formControlName="playerTwo" class="form-control" id="giocatore2" name="giocatore2"
            placeholder="Inserisci il codice tessera" (keyup)="onTypeCognome(registerReservationForm.get('playerTwo')?.value, 'playerTwo')">
        </div>

        <div class="form-check" *ngFor='let item2 of tessere2'>
          <ul class="list-group">
            <button class="list-group-item" (click)="radioChecked(item2.clienteTess.cognome, 'playerTwo', item2.codiceTessera)">{{item2.clienteTess.cognome}}</button>
          </ul>
        </div>

        <div class="form-group" *ngIf="registerReservationForm.get('modality')?.value === 'doppio' && cam.value != '3' && tipo.value === 'prenotazione'">
          <label for="giocatore3">Giocatore 3</label>
          <input type="text" formControlName="playerThree" class="form-control" id="giocatore3" name="giocatore3"
            placeholder="Inserisci il codice tessera" (keyup)="onTypeCognome(registerReservationForm.get('playerThree')?.value, 'playerThree')">
        </div>

        <div class="form-check" *ngFor='let item3 of tessere3'>
          <ul class="list-group">
            <button class="list-group-item" (click)="radioChecked(item3.clienteTess.cognome, 'playerThree', item3.codiceTessera)">{{item3.clienteTess.cognome}}</button>
          </ul>
        </div>

        <div class="form-group" *ngIf="registerReservationForm.get('modality')?.value === 'doppio' && cam.value != '3' && tipo.value === 'prenotazione'">
          <label for="giocatore4">Giocatore 4</label>
          <input type="text" formControlName="playerFour" class="form-control" id="giocatore4" name="giocatore4"
            placeholder="Inserisci il codice tessera" (keyup)="onTypeCognome(registerReservationForm.get('playerFour')?.value, 'playerFour')">
        </div>

        <div class="form-check" *ngFor='let item4 of tessere4'>
          <ul class="list-group">
            <button class="list-group-item" (click)="radioChecked(item4.clienteTess.cognome, 'playerFour', item4.codiceTessera)">{{item4.clienteTess.cognome}}</button>
          </ul>
        </div>

        <div class="form-group" *ngIf="tipo.value === 'prenotazione' && cam.value === '3'">
          <label for="giocatore3">Giocatore 3</label>
          <input type="text" formControlName="playerThree" class="form-control" id="giocatore3" name="giocatore3"
            placeholder="Inserisci il codice tessera">
        </div>

        <div *ngIf="tipo.value === 'prenotazione' && cam.value === '3'">
        <div class="form-check" *ngFor='let item3 of tessere3'>
          <ul class="list-group">
            <button class="list-group-item" (click)="radioChecked(item3.clienteTess.cognome, 'playerThree', item3.codiceTessera)">{{item3.clienteTess.cognome}}</button>
          </ul>
        </div>
        </div>

        <div class="form-group" *ngIf="tipo.value === 'prenotazione' && cam.value === '3'">
          <label for="giocatore4">Giocatore 4</label>
          <input type="text" formControlName="playerFour" class="form-control" id="giocatore4" name="giocatore4"
            placeholder="Inserisci il codice tessera" (keyup)="onTypeCognome(registerReservationForm.get('playerFour')?.value, 'playerFour')">
        </div>

        <div *ngIf="tipo.value === 'prenotazione' && cam.value === '3'">
        <div class="form-check" *ngFor='let item4 of tessere4'>
          <ul class="list-group">
            <button class="list-group-item" (click)="radioChecked(item4.clienteTess.cognome, 'playerFour', item4.codiceTessera)">{{item4.clienteTess.cognome}}</button>
          </ul>
        </div>
        </div>

        <div class="form-group" *ngIf="tipo.value === 'evento'">
          <label for="evento">Evento</label>
          <input type="text" formControlName="event" class="form-control" id="evento" name="evento"
            placeholder="Inserisci il tipo di evento">
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Chiudi</button>
          <button type="button" class="btn btn-primary" (click)="inserimento()">Inserisci</button>
        </div>
      </form>
    </div>
  </div>
</section> -->

<!-- <mat-chip-listbox aria-label="Fish selection">
  <mat-chip-option>One fish</mat-chip-option>
  <mat-chip-option>Two fish</mat-chip-option>
  <mat-chip-option color="accent" selected>Accent fish</mat-chip-option>
  <mat-chip-option color="warn">Warn fish</mat-chip-option>
</mat-chip-listbox> -->


<!-- <button mat-raised-button (click)="isLinear = !isLinear" id="toggle-linear">
  {{!isLinear ? 'Enable linear mode' : 'Disable linear mode'}}
</button> -->
<section class="content">
<h1>Nuova prenotazione</h1>
<!-- <form [formGroup]="registerReservationForm"> -->
  <mat-stepper [linear]="isLinear" #stepper>
    <mat-step [stepControl]="firstFormGroup">
      <form [formGroup]="registerReservationForm">
      <ng-template matStepLabel>Seleziona data e ora</ng-template>
      <div class="row">
        <div class="col-4">
          <div class="calendar-container resizableDialog">
            <mat-label class="label">Seleziona la data</mat-label>
            <mat-calendar class="calendar-container" formControlName="dateReservation" [startAt]="startDate" [selected]="selectionDate" [minDate]="minDate" [maxDate]="maxDate"
              [dateFilter]="dateFilter" (selectedChange)="handleSelection($event)">
            </mat-calendar>
          </div>
        </div>

        <div class="col-8">
          <mat-label class="label">Seleziona il campo:</mat-label>
          <br>
          <mat-radio-group class="chips" formControlName="campo"
            (change)="changeTime(registerReservationForm.get('campo')?.value)">
            <mat-radio-button *ngFor="let c of campi" value="{{c.numero}}">{{c.numero}} -
              {{c.superficie}}</mat-radio-button>
          </mat-radio-group>
          <br>
          <mat-label class="label" *ngIf="timeInizio.length != 0">Inizio:</mat-label>
          <div class="chips">
            <mat-chip-list formControlName="oraInizio">
              <ng-container *ngFor="let t of timeInizio">
                <mat-chip class="mats-chips" [disabled]="t.disabled" [selected]="t.selected"
                  (click)="t.disabled ? false : chipsSelInizio(t)" [value]="t.ora">{{t.ora}}</mat-chip>
                <!-- <mat-chip (disabled)="!t.disabled" [selected]="!t.selected" (click)="chipsSel(t)">{{t.ora}}</mat-chip> -->
              </ng-container>
            </mat-chip-list>
          </div>
          <mat-label class="label" *ngIf="timeInizio.length != 0">Fine:</mat-label>
          <div class="chips">

            <mat-chip-list formControlName="oraFine">
              <ng-container *ngFor="let t of timeFine">
                <mat-chip class="mats-chips" [disabled]="t.disabled" [selected]="t.selected"
                  (click)="t.disabled ? false : chipsSelFine(t)">{{t.ora}}</mat-chip>
                <!-- <mat-chip [hidden]="!selectedChip2" [selected]="t.selected" (click)="chipsSel(t)">{{t.ora}}</mat-chip> -->
              </ng-container>
            </mat-chip-list>
          </div>
          <!-- </mat-form-field> -->
        </div>
      </div>
      <div>
        <button mat-button matStepperNext (click)="inserimenti()">Continua</button>
      </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="secondFormGroup" label="Seleziona modalità e giocatori">
      <form [formGroup]="registerReservationForm2">
      <div class="step-2 row">
        <div class="col-4">
          <mat-label class="label">Modalità</mat-label>
          <br>
          <mat-radio-group formControlName="modality"
            (change)="changeRadio(registerReservationForm.get('modality')?.value)" aria-label="Select an option">
            <mat-radio-button value="singolo" checked="">Singolo</mat-radio-button>
            <mat-radio-button value="doppio">Doppio</mat-radio-button>
          </mat-radio-group>
        </div>

        <div class="col-4">
          <div class="my-form-input">
            <mat-form-field appearance="fill">
              <mat-label>Giocatore 1</mat-label>
              <input matInput formControlName="playerOne" (keyup)="onTypeCognome(registerReservationForm.get('playerOne')?.value, 'playerOne')">
            </mat-form-field>
            <div class="form-check" *ngFor='let item of tessere'>
              <ul class="list-group">
                <button class="list-group-item" (click)="radioChecked(item.clienteTess.cognome, 'playerOne', item.codiceTessera)">{{item.clienteTess.cognome}}</button>
              </ul>
            </div>
          </div>

          <div class="my-form-input">
            <mat-form-field appearance="fill">
              <mat-label>Giocatore 2</mat-label>
              <input matInput formControlName="playerTwo" (keyup)="onTypeCognome(registerReservationForm.get('playerTwo')?.value, 'playerTwo')">
            </mat-form-field>
            <div class="form-check" *ngFor='let item2 of tessere2'>
              <ul class="list-group">
                <button class="list-group-item" (click)="radioChecked(item2.clienteTess.cognome, 'playerTwo', item2.codiceTessera)">{{item2.clienteTess.cognome}}</button>
              </ul>
            </div>
          </div>

        </div>

        <div class="col-4">
          <div class="my-form-input" [hidden]="registerReservationForm.get('modality')?.value === 'singolo'">
            <mat-form-field appearance="fill">
              <mat-label>Giocatore 3</mat-label>
              <input matInput formControlName="playerThree" (keyup)="onTypeCognome(registerReservationForm.get('playerThree')?.value, 'playerThree')">
            </mat-form-field>
            <div class="form-check" *ngFor='let item3 of tessere3'>
              <ul class="list-group">
                <button class="list-group-item" (click)="radioChecked(item3.clienteTess.cognome, 'playerThree', item3.codiceTessera)">{{item3.clienteTess.cognome}}</button>
              </ul>
            </div>
          </div>

          <div class="my-form-input" [hidden]="registerReservationForm.get('modality')?.value === 'singolo'">
            <mat-form-field appearance="fill">
              <mat-label>Giocatore 4</mat-label>
              <input matInput formControlName="playerFour" (keyup)="onTypeCognome(registerReservationForm.get('playerFour')?.value, 'playerFour')">
            </mat-form-field>
            <div class="form-check" *ngFor='let item4 of tessere4'>
              <ul class="list-group">
                <button class="list-group-item" (click)="radioChecked(item4.clienteTess.cognome, 'playerFour', item4.codiceTessera)">{{item4.clienteTess.cognome}}</button>
              </ul>
            </div>
          </div>
        </div>

      </div>
      <div>
        <button mat-button matStepperPrevious>Indietro</button>
        <button mat-button matStepperNext (click)="inserimento()">Continua</button>
      </div>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Conferma</ng-template>
      <p>You are now done.</p>
      {{prenotazione | json}}
      <div>
        <button mat-button matStepperPrevious>Indietro</button>
        <button mat-button (click)="stepper.reset()">Annulla</button>
        <button mat-button (click)="inserimento()">Salva</button>
      </div>
    </mat-step>
  </mat-stepper>
</section>
<!-- </form> -->
<!-- <p-calendar inputId="basic" [(ngModel)]="value"></p-calendar> -->
